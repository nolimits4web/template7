"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/**
 * Template7 1.3.6
 * Mobile-first HTML template engine
 * 
 * http://www.idangero.us/template7/
 * 
 * Copyright 2018, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 * 
 * Licensed under MIT
 * 
 * Released on: June 11, 2018
 */
!function (e, t) {
  "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.Template7 = t();
}(undefined, function () {
  "use strict";
  function Template7() {
    for (var e = [], t = arguments.length; t--;) {
      e[t] = arguments[t];
    }var i = e[0],
        r = e[1];if (2 === e.length) {
      var n = new Template7Class(i),
          a = n.compile()(r);return n = null, a;
    }return new Template7Class(i);
  }var t7ctx;t7ctx = "undefined" != typeof window ? window : "undefined" != typeof global ? global : void 0;var Template7Context = t7ctx,
      Template7Utils = { quoteSingleRexExp: new RegExp("'", "g"), quoteDoubleRexExp: new RegExp('"', "g"), isFunction: function isFunction(e) {
      return "function" == typeof e;
    }, escape: function escape(e) {
      return void 0 !== Template7Context && Template7Context.escape ? Template7Context.escape(e) : e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
    }, helperToSlices: function helperToSlices(e) {
      var t,
          i,
          r,
          n = Template7Utils.quoteDoubleRexExp,
          a = Template7Utils.quoteSingleRexExp,
          l = e.replace(/[{}#}]/g, "").trim().split(" "),
          s = [];for (i = 0; i < l.length; i += 1) {
        var o = l[i],
            p = void 0,
            c = void 0;if (0 === i) s.push(o);else if (0 === o.indexOf('"') || 0 === o.indexOf("'")) {
          if (p = 0 === o.indexOf('"') ? n : a, c = 0 === o.indexOf('"') ? '"' : "'", 2 === o.match(p).length) s.push(o);else {
            for (t = 0, r = i + 1; r < l.length; r += 1) {
              if (o += " " + l[r], l[r].indexOf(c) >= 0) {
                t = r, s.push(o);break;
              }
            }t && (i = t);
          }
        } else if (o.indexOf("=") > 0) {
          var u = o.split("="),
              f = u[0],
              m = u[1];if (p || (p = 0 === m.indexOf('"') ? n : a, c = 0 === m.indexOf('"') ? '"' : "'"), 2 !== m.match(p).length) {
            for (t = 0, r = i + 1; r < l.length; r += 1) {
              if (m += " " + l[r], l[r].indexOf(c) >= 0) {
                t = r;break;
              }
            }t && (i = t);
          }var d = [f, m.replace(p, "")];s.push(d);
        } else s.push(o);
      }return s;
    }, stringToBlocks: function stringToBlocks(e) {
      var t,
          i,
          r = [];if (!e) return [];var n = e.split(/({{[^{^}]*}})/);for (t = 0; t < n.length; t += 1) {
        var a = n[t];if ("" !== a) if (a.indexOf("{{") < 0) r.push({ type: "plain", content: a });else {
          if (a.indexOf("{/") >= 0) continue;if ((a = a.replace(/{{([#/])*([ ])*/, "{{$1").replace(/([ ])*}}/, "}}")).indexOf("{#") < 0 && a.indexOf(" ") < 0 && a.indexOf("else") < 0) {
            r.push({ type: "variable", contextName: a.replace(/[{}]/g, "") });continue;
          }var l = Template7Utils.helperToSlices(a),
              s = l[0],
              o = ">" === s,
              p = [],
              c = {};for (i = 1; i < l.length; i += 1) {
            var u = l[i];Array.isArray(u) ? c[u[0]] = "false" !== u[1] && u[1] : p.push(u);
          }if (a.indexOf("{#") >= 0) {
            var f = "",
                m = "",
                d = 0,
                h = void 0,
                g = !1,
                x = !1,
                v = 0;for (i = t + 1; i < n.length; i += 1) {
              if (n[i].indexOf("{{#") >= 0 && (v += 1), n[i].indexOf("{{/") >= 0 && (v -= 1), n[i].indexOf("{{#" + s) >= 0) f += n[i], x && (m += n[i]), d += 1;else if (n[i].indexOf("{{/" + s) >= 0) {
                if (!(d > 0)) {
                  h = i, g = !0;break;
                }d -= 1, f += n[i], x && (m += n[i]);
              } else n[i].indexOf("else") >= 0 && 0 === v ? x = !0 : (x || (f += n[i]), x && (m += n[i]));
            }g && (h && (t = h), "raw" === s ? r.push({ type: "plain", content: f }) : r.push({ type: "helper", helperName: s, contextName: p, content: f, inverseContent: m, hash: c }));
          } else a.indexOf(" ") > 0 && (o && (s = "_partial", p[0] && (0 === p[0].indexOf("[") ? p[0] = p[0].replace(/[[\]]/g, "") : p[0] = '"' + p[0].replace(/"|'/g, "") + '"')), r.push({ type: "helper", helperName: s, contextName: p, hash: c }));
        }
      }return r;
    }, parseJsVariable: function parseJsVariable(e, t, i) {
      return e.split(/([+ -*/^])/g).map(function (e) {
        if (e.indexOf(t) < 0) return e;if (!i) return JSON.stringify("");var r = i;return e.indexOf(t + ".") >= 0 && e.split(t + ".")[1].split(".").forEach(function (e) {
          r = e in r ? r[e] : void 0;
        }), "string" == typeof r && (r = JSON.stringify(r)), void 0 === r && (r = "undefined"), r;
      }).join("");
    }, parseJsParents: function parseJsParents(e, t) {
      return e.split(/([+ -*^])/g).map(function (e) {
        if (e.indexOf("../") < 0) return e;if (!t || 0 === t.length) return JSON.stringify("");var i = e.split("../").length - 1,
            r = i > t.length ? t[t.length - 1] : t[i - 1];return e.replace(/..\//g, "").split(".").forEach(function (e) {
          r = r[e] ? r[e] : "undefined";
        }), JSON.stringify(r);
      }).join("");
    }, getCompileVar: function getCompileVar(e, t, i) {
      void 0 === i && (i = "data_1");var r,
          n,
          a = t,
          l = 0;0 === e.indexOf("../") ? (l = e.split("../").length - 1, a = "ctx_" + ((n = a.split("_")[1] - l) >= 1 ? n : 1), r = e.split("../")[l].split(".")) : 0 === e.indexOf("@global") ? (a = "Template7.global", r = e.split("@global.")[1].split(".")) : 0 === e.indexOf("@root") ? (a = "root", r = e.split("@root.")[1].split(".")) : r = e.split(".");for (var s = 0; s < r.length; s += 1) {
        var o = r[s];if (0 === o.indexOf("@")) {
          var p = i.split("_")[1];l > 0 && (p = n), s > 0 ? a += "[(data_" + p + " && data_" + p + "." + o.replace("@", "") + ")]" : a = "(data_" + p + " && data_" + p + "." + o.replace("@", "") + ")";
        } else (Number.isFinite ? Number.isFinite(o) : Template7Context.isFinite(o)) ? a += "[" + o + "]" : "this" === o || o.indexOf("this.") >= 0 || o.indexOf("this[") >= 0 || o.indexOf("this(") >= 0 ? a = o.replace("this", t) : a += "." + o;
      }return a;
    }, getCompiledArguments: function getCompiledArguments(e, t, i) {
      for (var r = [], n = 0; n < e.length; n += 1) {
        /^['"]/.test(e[n]) ? r.push(e[n]) : /^(true|false|\d+)$/.test(e[n]) ? r.push(e[n]) : r.push(Template7Utils.getCompileVar(e[n], t, i));
      }return r.join(", ");
    } },
      Template7Helpers = { _partial: function _partial(e, t) {
      var i = this,
          r = Template7Class.partials[e];return !r || r && !r.template ? "" : (r.compiled || (r.compiled = new Template7Class(r.template).compile()), Object.keys(t.hash).forEach(function (e) {
        i[e] = t.hash[e];
      }), r.compiled(i, t.data, t.root));
    }, escape: function escape(e) {
      if ("string" != typeof e) throw new Error('Template7: Passed context to "escape" helper should be a string');return Template7Utils.escape(e);
    }, if: function _if(e, t) {
      var i = e;return Template7Utils.isFunction(i) && (i = i.call(this)), i ? t.fn(this, t.data) : t.inverse(this, t.data);
    }, unless: function unless(e, t) {
      var i = e;return Template7Utils.isFunction(i) && (i = i.call(this)), i ? t.inverse(this, t.data) : t.fn(this, t.data);
    }, each: function each(e, t) {
      var i = e,
          r = "",
          n = 0;if (Template7Utils.isFunction(i) && (i = i.call(this)), Array.isArray(i)) {
        for (t.hash.reverse && (i = i.reverse()), n = 0; n < i.length; n += 1) {
          r += t.fn(i[n], { first: 0 === n, last: n === i.length - 1, index: n });
        }t.hash.reverse && (i = i.reverse());
      } else for (var a in i) {
        n += 1, r += t.fn(i[a], { key: a });
      }return n > 0 ? r : t.inverse(this);
    }, with: function _with(e, t) {
      var i = e;return Template7Utils.isFunction(i) && (i = e.call(this)), t.fn(i);
    }, join: function join(e, t) {
      var i = e;return Template7Utils.isFunction(i) && (i = i.call(this)), i.join(t.hash.delimiter || t.hash.delimeter);
    }, js: function js(expression, options) {
      var data = options.data,
          func,
          execute = expression;return "index first last key".split(" ").forEach(function (e) {
        if (void 0 !== data[e]) {
          var t = new RegExp("this.@" + e, "g"),
              i = new RegExp("@" + e, "g");execute = execute.replace(t, JSON.stringify(data[e])).replace(i, JSON.stringify(data[e]));
        }
      }), options.root && execute.indexOf("@root") >= 0 && (execute = Template7Utils.parseJsVariable(execute, "@root", options.root)), execute.indexOf("@global") >= 0 && (execute = Template7Utils.parseJsVariable(execute, "@global", Template7Context.Template7.global)), execute.indexOf("../") >= 0 && (execute = Template7Utils.parseJsParents(execute, options.parents)), func = execute.indexOf("return") >= 0 ? "(function(){" + execute + "})" : "(function(){return (" + execute + ")})", eval(func).call(this);
    }, js_if: function js_if(expression, options) {
      var data = options.data,
          func,
          execute = expression;"index first last key".split(" ").forEach(function (e) {
        if (void 0 !== data[e]) {
          var t = new RegExp("this.@" + e, "g"),
              i = new RegExp("@" + e, "g");execute = execute.replace(t, JSON.stringify(data[e])).replace(i, JSON.stringify(data[e]));
        }
      }), options.root && execute.indexOf("@root") >= 0 && (execute = Template7Utils.parseJsVariable(execute, "@root", options.root)), execute.indexOf("@global") >= 0 && (execute = Template7Utils.parseJsVariable(execute, "@global", Template7Context.Template7.global)), execute.indexOf("../") >= 0 && (execute = Template7Utils.parseJsParents(execute, options.parents)), func = execute.indexOf("return") >= 0 ? "(function(){" + execute + "})" : "(function(){return (" + execute + ")})";var condition = eval(func).call(this);return condition ? options.fn(this, options.data) : options.inverse(this, options.data);
    } };Template7Helpers.js_compare = Template7Helpers.js_if;var Template7Options = {},
      Template7Partials = {},
      script = Template7Context.document.createElement("script");Template7Context.document.head.appendChild(script);var Template7Class = function Template7Class(e) {
    this.template = e;
  },
      staticAccessors = { options: { configurable: !0 }, partials: { configurable: !0 }, helpers: { configurable: !0 } };return Template7Class.prototype.compile = function compile(template, depth) {
    function getCompileFn(e, i) {
      return e.content ? t.compile(e.content, i) : function () {
        return "";
      };
    }function getCompileInverse(e, i) {
      return e.inverseContent ? t.compile(e.inverseContent, i) : function () {
        return "";
      };
    }void 0 === template && (template = this.template), void 0 === depth && (depth = 1);var t = this;if (t.compiled) return t.compiled;if ("string" != typeof template) throw new Error("Template7: Template must be a string");var stringToBlocks = Template7Utils.stringToBlocks,
        getCompileVar = Template7Utils.getCompileVar,
        getCompiledArguments = Template7Utils.getCompiledArguments,
        blocks = stringToBlocks(template),
        ctx = "ctx_" + depth,
        data = "data_" + depth;if (0 === blocks.length) return function () {
      return "";
    };var resultString = "";resultString += 1 === depth ? "(function (" + ctx + ", " + data + ", root) {\n" : "(function (" + ctx + ", " + data + ") {\n", 1 === depth && (resultString += "function isArray(arr){return Array.isArray(arr);}\n", resultString += "function isFunction(func){return (typeof func === 'function');}\n", resultString += 'function c(val, ctx) {if (typeof val !== "undefined" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n', resultString += "root = root || ctx_1 || {};\n"), resultString += "var r = '';\n";var i;for (i = 0; i < blocks.length; i += 1) {
      var block = blocks[i];if ("plain" !== block.type) {
        var variable = void 0,
            compiledArguments = void 0;if ("variable" === block.type && (variable = getCompileVar(block.contextName, ctx, data), resultString += "r += c(" + variable + ", " + ctx + ");"), "helper" === block.type) {
          var parents = void 0;if ("ctx_1" !== ctx) {
            for (var level = ctx.split("_")[1], parentsString = "ctx_" + (level - 1), j = level - 2; j >= 1; j -= 1) {
              parentsString += ", ctx_" + j;
            }parents = "[" + parentsString + "]";
          } else parents = "[" + ctx + "]";var dynamicHelper = void 0;if (0 === block.helperName.indexOf("[") && (block.helperName = getCompileVar(block.helperName.replace(/[[\]]/g, ""), ctx, data), dynamicHelper = !0), dynamicHelper || block.helperName in Template7Helpers) compiledArguments = getCompiledArguments(block.contextName, ctx, data), resultString += "r += (Template7Helpers" + (dynamicHelper ? "[" + block.helperName + "]" : "." + block.helperName) + ").call(" + ctx + ", " + (compiledArguments && compiledArguments + ", ") + "{hash:" + JSON.stringify(block.hash) + ", data: " + data + " || {}, fn: " + getCompileFn(block, depth + 1) + ", inverse: " + getCompileInverse(block, depth + 1) + ", root: root, parents: " + parents + "});";else {
            if (block.contextName.length > 0) throw new Error('Template7: Missing helper: "' + block.helperName + '"');variable = getCompileVar(block.helperName, ctx, data), resultString += "if (" + variable + ") {", resultString += "if (isArray(" + variable + ")) {", resultString += "r += (Template7Helpers.each).call(" + ctx + ", " + variable + ", {hash:" + JSON.stringify(block.hash) + ", data: " + data + " || {}, fn: " + getCompileFn(block, depth + 1) + ", inverse: " + getCompileInverse(block, depth + 1) + ", root: root, parents: " + parents + "});", resultString += "}else {", resultString += "r += (Template7Helpers.with).call(" + ctx + ", " + variable + ", {hash:" + JSON.stringify(block.hash) + ", data: " + data + " || {}, fn: " + getCompileFn(block, depth + 1) + ", inverse: " + getCompileInverse(block, depth + 1) + ", root: root, parents: " + parents + "});", resultString += "}}";
          }
        }
      } else resultString += "r +='" + block.content.replace(/\r/g, "\\r").replace(/\n/g, "\\n").replace(/'/g, "\\'") + "';";
    }return resultString += "\nreturn r;})", 1 === depth ? (t.compiled = eval(resultString), t.compiled) : resultString;
  }, staticAccessors.options.get = function () {
    return Template7Options;
  }, staticAccessors.partials.get = function () {
    return Template7Partials;
  }, staticAccessors.helpers.get = function () {
    return Template7Helpers;
  }, Object.defineProperties(Template7Class, staticAccessors), Template7.registerHelper = function (e, t) {
    Template7Class.helpers[e] = t;
  }, Template7.unregisterHelper = function (e) {
    Template7Class.helpers[e] = void 0, delete Template7Class.helpers[e];
  }, Template7.registerPartial = function (e, t) {
    Template7Class.partials[e] = { template: t };
  }, Template7.unregisterPartial = function (e) {
    Template7Class.partials[e] && (Template7Class.partials[e] = void 0, delete Template7Class.partials[e]);
  }, Template7.compile = function (e, t) {
    return new Template7Class(e, t).compile();
  }, Template7.options = Template7Class.options, Template7.helpers = Template7Class.helpers, Template7.partials = Template7Class.partials, Template7;
});
//# sourceMappingURL=template7.min.js.map